<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.wizinno.apollo.app.domain.DeviceMapper" >
  <resultMap id="BaseResultMap" type="com.wizinno.apollo.app.domain.model.Device" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Sep 02 17:01:25 CST 2017.
    -->
    <id column="dev_id" property="devId" jdbcType="VARCHAR" />
    <id column="dev_imei" property="devImei" jdbcType="VARCHAR" />
    <result column="dev_brand" property="devBrand" jdbcType="VARCHAR" />
    <result column="dev_model" property="devModel" jdbcType="VARCHAR" />
    <result column="android_api_ver" property="androidApiVer" jdbcType="VARCHAR" />
    <result column="factory_os" property="factoryOs" jdbcType="VARCHAR" />
    <result column="factory_os_ver" property="factoryOsVer" jdbcType="VARCHAR" />
    <result column="d_mobileNum" property="dMobilenum" jdbcType="VARCHAR" />
    <result column="u_name" property="uName" jdbcType="VARCHAR" />
    <result column="d_loginTime" property="dLogintime" jdbcType="TIMESTAMP" />
    <result column="state" property="state" jdbcType="INTEGER" />
  </resultMap>
  <delete id="deleteByPrimaryKey" parameterType="map" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Sep 02 17:01:25 CST 2017.
    -->
    delete from device
    where dev_id = #{devId,jdbcType=VARCHAR}
      and dev_imei = #{devImei,jdbcType=VARCHAR}
  </delete>
  <insert id="insert" parameterType="com.wizinno.apollo.app.domain.model.Device" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Sep 02 17:01:25 CST 2017.
    -->
    insert into device (dev_id, dev_imei, dev_brand, 
      dev_model, android_api_ver, factory_os, 
      factory_os_ver, d_mobileNum,u_name, d_loginTime,
      state)
    values (#{devId,jdbcType=VARCHAR}, #{devImei,jdbcType=VARCHAR}, #{devBrand,jdbcType=VARCHAR}, 
      #{devModel,jdbcType=VARCHAR}, #{androidApiVer,jdbcType=INTEGER}, #{factoryOs,jdbcType=VARCHAR}, 
      #{factoryOsVer,jdbcType=VARCHAR}, #{dMobilenum,jdbcType=VARCHAR}, #{uName,jdbcType=VARCHAR} ,#{dLogintime,jdbcType=TIMESTAMP},
      #{state,jdbcType=INTEGER})
  </insert>
  <update id="updateByPrimaryKey" parameterType="com.wizinno.apollo.app.domain.model.Device" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Sep 02 17:01:25 CST 2017.
    -->
    update device
    set dev_brand = #{devBrand,jdbcType=VARCHAR},
      dev_model = #{devModel,jdbcType=VARCHAR},
      android_api_ver = #{androidApiVer,jdbcType=INTEGER},
      factory_os = #{factoryOs,jdbcType=VARCHAR},
      factory_os_ver = #{factoryOsVer,jdbcType=VARCHAR},
      d_mobileNum = #{dMobilenum,jdbcType=VARCHAR},
    u_name = #{uName,jdbcType=VARCHAR},
      d_loginTime = #{dLogintime,jdbcType=TIMESTAMP},
      state = #{state,jdbcType=INTEGER}
    where dev_id = #{devId,jdbcType=VARCHAR}
      and dev_imei = #{devImei,jdbcType=VARCHAR}
  </update>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="map" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Sep 02 17:01:25 CST 2017.
    -->
    select dev_id, dev_imei, dev_brand, dev_model, android_api_ver, factory_os, factory_os_ver, 
    d_mobileNum,u_name, d_loginTime, state
    from device
    where dev_id = #{devId,jdbcType=VARCHAR}
      and dev_imei = #{devImei,jdbcType=VARCHAR}
  </select>
  <select id="selectAll" resultMap="BaseResultMap" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Sep 02 17:01:25 CST 2017.
    -->
    select dev_id, dev_imei, dev_brand, dev_model, android_api_ver, factory_os, factory_os_ver, 
    d_mobileNum,u_name, d_loginTime, state
    from device
  </select>

  <select id="getDeviceByDevImei" resultMap="BaseResultMap" parameterType="java.lang.String">
        select dev_id, dev_imei, dev_brand, dev_model, android_api_ver, factory_os, factory_os_ver,
    d_mobileNum, u_name,d_loginTime, state
    from device WHERE dev_imei=#{devImei,jdbcType=VARCHAR}
  </select>

  <select id="getDevices" resultMap="BaseResultMap" parameterType="com.wizinno.apollo.common.condition.DeviceCondition">
    select dev_id, dev_imei, dev_brand, dev_model, android_api_ver, factory_os, factory_os_ver,
    d_mobileNum, u_name,d_loginTime, state
    from device
    <where>
      <if test="uName != null">AND u_name = #{uName,jdbcType=VARCHAR}</if>
      <if test="mobileNum != null">AND d_mobileNum = #{mobileNum,jdbcType=VARCHAR}</if>
      <if test="devBrand != null">AND dev_brand = #{devBrand,jdbcType=VARCHAR}</if>
    </where>
    order BY d_loginTime desc
    limit #{start,jdbcType=INTEGER}, #{size,jdbcType=INTEGER}
  </select>

  <select id="getDevicesTotal" resultType="java.lang.Long" parameterType="com.wizinno.apollo.common.condition.DeviceCondition">
    select count(1)
    from device
    <where>
      <if test="uName != null">AND u_name = #{uName,jdbcType=VARCHAR}</if>
      <if test="mobileNum != null">AND d_mobileNum = #{mobileNum,jdbcType=VARCHAR}</if>
      <if test="devBrand != null">AND dev_brand = #{devBrand,jdbcType=VARCHAR}</if>
    </where>
  </select>
</mapper>