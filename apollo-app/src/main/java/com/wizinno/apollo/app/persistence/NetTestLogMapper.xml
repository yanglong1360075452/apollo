<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.wizinno.apollo.app.domain.NetTestLogMapper" >
  <resultMap id="BaseResultMap" type="com.wizinno.apollo.app.domain.model.NetTestLog" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Sep 02 14:47:30 CST 2017.
    -->
    <id column="test_id" property="testId" jdbcType="VARCHAR" />
    <result column="test_time" property="testTime" jdbcType="TIMESTAMP" />
    <result column="test_event" property="testEvent" jdbcType="INTEGER" />
    <result column="user_name" property="userName" jdbcType="VARCHAR" />
    <result column="mobile_num" property="mobileNum" jdbcType="VARCHAR" />
    <result column="device_imei" property="deviceImei" jdbcType="VARCHAR" />
    <result column="net_type" property="netType" jdbcType="VARCHAR" />
    <result column="operator" property="operator" jdbcType="VARCHAR" />
    <result column="ip_addr" property="ipAddr" jdbcType="VARCHAR" />
    <result column="ssid" property="ssid" jdbcType="VARCHAR" />
    <result column="gps" property="gps" jdbcType="VARCHAR" />
    <result column="mcc" property="mcc" jdbcType="VARCHAR" />
    <result column="mnc" property="mnc" jdbcType="VARCHAR" />
    <result column="lac" property="lac" jdbcType="VARCHAR" />
    <result column="cid" property="cid" jdbcType="VARCHAR" />
    <result column="bsss" property="bsss" jdbcType="VARCHAR" />
    <result column="neighbor_station_info" property="neighborStationInfo" jdbcType="VARCHAR" />
    <result column="trans_speed_up" property="transSpeedUp" jdbcType="BIGINT" />
    <result column="trans_speed_down" property="transSpeedDown" jdbcType="BIGINT" />
    <result column="pakage_loss_prob" property="pakageLossProb" jdbcType="VARCHAR" />
    <result column="ave_trans_delay" property="aveTransDelay" jdbcType="BIGINT" />
    <result column="trans_jitter_p" property="transJitterP" jdbcType="BIGINT" />
    <result column="trans_jitter_n" property="transJitterN" jdbcType="BIGINT" />
    <result column="err_type" property="errType" jdbcType="INTEGER" />
    <result column="manual_click" property="manualClick" jdbcType="INTEGER" />
    <result column="screen_shap" property="screenShap" jdbcType="VARCHAR" />
    <result column="dev_netspeed" property="devNetspeed" jdbcType="BIGINT" />
    <result column="describe" property="describe" jdbcType="VARCHAR" />
    <result column="is_front_app" property="isFrontApp" jdbcType="INTEGER" />
    <result column="app_name" property="appName" jdbcType="VARCHAR" />
  </resultMap>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Sep 02 14:47:30 CST 2017.
    -->
    delete from net_test_log
    where test_id = #{testId,jdbcType=VARCHAR}
  </delete>
  <insert id="insert" parameterType="com.wizinno.apollo.app.domain.model.NetTestLog" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Sep 02 14:47:30 CST 2017.
    -->
    insert into net_test_log (test_id, test_time, test_event, 
      user_name, mobile_num, device_imei, 
      net_type, operator, ip_addr, 
      ssid, gps, mcc, mnc, 
      lac, cid, bsss, neighbor_station_info, 
      trans_speed_up, trans_speed_down, pakage_loss_prob, 
      ave_trans_delay, trans_jitter_p, trans_jitter_n, 
      err_type, manual_click, screen_shap, 
      dev_netspeed,`describe`,is_front_app,app_name)
    values (#{testId,jdbcType=VARCHAR}, #{testTime,jdbcType=TIMESTAMP}, #{testEvent,jdbcType=INTEGER}, 
      #{userName,jdbcType=VARCHAR}, #{mobileNum,jdbcType=VARCHAR}, #{deviceImei,jdbcType=VARCHAR}, 
      #{netType,jdbcType=VARCHAR}, #{operator,jdbcType=VARCHAR}, #{ipAddr,jdbcType=VARCHAR}, 
      #{ssid,jdbcType=VARCHAR}, #{gps,jdbcType=VARCHAR}, #{mcc,jdbcType=VARCHAR}, #{mnc,jdbcType=VARCHAR}, 
      #{lac,jdbcType=VARCHAR}, #{cid,jdbcType=VARCHAR}, #{bsss,jdbcType=VARCHAR}, #{neighborStationInfo,jdbcType=VARCHAR}, 
      #{transSpeedUp,jdbcType=BIGINT}, #{transSpeedDown,jdbcType=BIGINT}, #{pakageLossProb,jdbcType=VARCHAR},
      #{aveTransDelay,jdbcType=BIGINT}, #{transJitterP,jdbcType=BIGINT}, #{transJitterN,jdbcType=BIGINT}, 
      #{errType,jdbcType=INTEGER}, #{manualClick,jdbcType=INTEGER}, #{screenShap,jdbcType=VARCHAR}, 
      #{devNetspeed,jdbcType=BIGINT},#{describe,jdbcType=VARCHAR},#{isFrontApp,jdbcType=INTEGER},
    #{appName,jdbcType=VARCHAR})
  </insert>
  <update id="updateByPrimaryKey" parameterType="com.wizinno.apollo.app.domain.model.NetTestLog" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Sep 02 14:47:30 CST 2017.
    -->
    update net_test_log
    set test_time = #{testTime,jdbcType=TIMESTAMP},
      test_event = #{testEvent,jdbcType=INTEGER},
      user_name = #{userName,jdbcType=VARCHAR},
      mobile_num = #{mobileNum,jdbcType=VARCHAR},
      device_imei = #{deviceImei,jdbcType=VARCHAR},
      net_type = #{netType,jdbcType=VARCHAR},
      operator = #{operator,jdbcType=VARCHAR},
      ip_addr = #{ipAddr,jdbcType=VARCHAR},
      ssid = #{ssid,jdbcType=VARCHAR},
      gps = #{gps,jdbcType=VARCHAR},
      mcc = #{mcc,jdbcType=VARCHAR},
      mnc = #{mnc,jdbcType=VARCHAR},
      lac = #{lac,jdbcType=VARCHAR},
      cid = #{cid,jdbcType=VARCHAR},
      bsss = #{bsss,jdbcType=VARCHAR},
      neighbor_station_info = #{neighborStationInfo,jdbcType=VARCHAR},
      trans_speed_up = #{transSpeedUp,jdbcType=BIGINT},
      trans_speed_down = #{transSpeedDown,jdbcType=BIGINT},
      pakage_loss_prob = #{pakageLossProb,jdbcType=VARCHAR},
      ave_trans_delay = #{aveTransDelay,jdbcType=BIGINT},
      trans_jitter_p = #{transJitterP,jdbcType=BIGINT},
      trans_jitter_n = #{transJitterN,jdbcType=BIGINT},
      err_type = #{errType,jdbcType=INTEGER},
      manual_click = #{manualClick,jdbcType=INTEGER},
      screen_shap = #{screenShap,jdbcType=VARCHAR},
      dev_netspeed = #{devNetspeed,jdbcType=BIGINT},
    `describe` = #{describe,jdbcType=VARCHAR},
    is_front_app = #{isFrontApp,jdbcType=INTEGER},
    app_name = #{appName,jdbcType=VARCHAR}
    where test_id = #{testId,jdbcType=VARCHAR}
  </update>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.String" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Sep 02 14:47:30 CST 2017.
    -->
    select test_id, test_time, test_event, user_name, mobile_num, device_imei, net_type, 
    operator, ip_addr, ssid, gps, mcc, mnc, lac, cid, bsss, neighbor_station_info, trans_speed_up, 
    trans_speed_down, pakage_loss_prob, ave_trans_delay, trans_jitter_p, trans_jitter_n, 
    err_type, manual_click, screen_shap, dev_netspeed,`describe`,is_front_app,app_name
    from net_test_log
    where test_id = #{testId,jdbcType=VARCHAR}
  </select>
  <select id="selectAll" resultMap="BaseResultMap" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Sep 02 14:47:30 CST 2017.
    -->
    select test_id, test_time, test_event, user_name, mobile_num, device_imei, net_type, 
    operator, ip_addr, ssid, gps, mcc, mnc, lac, cid, bsss, neighbor_station_info, trans_speed_up, 
    trans_speed_down, pakage_loss_prob, ave_trans_delay, trans_jitter_p, trans_jitter_n, 
    err_type, manual_click, screen_shap, dev_netspeed,`describe`,is_front_app,app_name
    from net_test_log
  </select>

  <select id="getNetTestLogs" resultMap="BaseResultMap" parameterType="com.wizinno.apollo.common.condition.NetTestCondition">
    select test_id, test_time, test_event, user_name, mobile_num, device_imei, net_type,
    operator, ip_addr, ssid, gps, mcc, mnc, lac, cid, bsss, neighbor_station_info, trans_speed_up,
    trans_speed_down, pakage_loss_prob, ave_trans_delay, trans_jitter_p, trans_jitter_n,
    err_type, manual_click, screen_shap, dev_netspeed,`describe`,is_front_app,app_name
    from net_test_log
    <where>
      AND test_event != 3
      <if test="filter != null">AND mobile_num =#{filter,jdbcType=VARCHAR}</if>
      <if test="uName != null">AND user_name =#{uName,jdbcType=VARCHAR}</if>
      <if test="testEvent != null  and testEvent != 3">AND test_event =#{testEvent,jdbcType=INTEGER}</if>
      <if test="startTime != null">AND test_time >= #{startTime,jdbcType=TIMESTAMP}</if>
      <if test="endTime != null"><![CDATA[AND test_time < #{endTime,jdbcType=TIMESTAMP}]]></if>
    </where>
    order BY test_time desc
    limit #{start,jdbcType=INTEGER}, #{size,jdbcType=INTEGER}
  </select>

  <select id="getNetTestLogsTotal" resultType="java.lang.Long"
          parameterType="com.wizinno.apollo.common.condition.NetTestCondition">

    select count(1)
    from net_test_log
    <where>
      AND test_event != 3
      <if test="filter != null">AND mobile_num =#{filter,jdbcType=VARCHAR}</if>
      <if test="uName != null">AND user_name =#{uName,jdbcType=VARCHAR}</if>
      <if test="testEvent != null and testEvent != 3">AND test_event =#{testEvent,jdbcType=INTEGER}</if>
      <if test="startTime != null">AND test_time >= #{startTime,jdbcType=TIMESTAMP}</if>
      <if test="endTime != null"><![CDATA[AND test_time < #{endTime,jdbcType=TIMESTAMP}]]></if>
    </where>
  </select>


</mapper>